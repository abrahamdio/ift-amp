<!doctype html>
<html âš¡4email>

<head>
    <meta charset="utf-8">
    <script async src="https://cdn.ampproject.org/v0.js"></script>
    <script async custom-element="amp-form" src="https://cdn.ampproject.org/v0/amp-form-0.1.js"></script>
    <script async custom-element="amp-list" src="https://cdn.ampproject.org/v0/amp-list-0.1.js"></script>
    <script async custom-template="amp-mustache" src="https://cdn.ampproject.org/v0/amp-mustache-0.2.js"></script>
    <script async custom-element="amp-selector" src="https://cdn.ampproject.org/v0/amp-selector-0.1.js"></script>
    <style amp4email-boilerplate>
        body {
            visibility: hidden
        }
    </style>
</head>

<body>
    <form id="myform" method="post" action-xhr="https://ift-amp.herokuapp.com/addTimeslot"
        on="submit-success:myList.refresh;submit:myform.clear">
        <input id="timeslotInput" type="text" name="timeslot" placeholder="10AM-11AM" required>
        <input type="submit" value="Add Timeslot">
    </form>
    <form id="booking-form" method="post" action-xhr="https://ift-amp.herokuapp.com/updateTimeslot"
        on="submit-success:myList.refresh">
        <amp-list id="myList" src="https://ift-amp.herokuapp.com/timeslot" layout="flex-item" width="500" height="120">
            <template type="amp-mustache">
                <div>{{timeslot}}
                    {{#scheduled}}
                    - <b>Booked</b>
                    {{/scheduled}}
                </div>
            </template>
        </amp-list>
    </form>
    <button on="tap:myList.refresh">Refresh List</button>
</body>

</html>